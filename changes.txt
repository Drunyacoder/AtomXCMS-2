**************************
v2.6 RC3            	 *☢☠
**************************
Фиксы
1. Небольшой фикс валидатора.
2. Небольшой фикс пересчета сообщений форума в админке.
3. В ссылках на проверку IP в чате добавлены <noindex> и nofollow(фикс чтобы не индексировались ссылки).
4. Полностью отлажена и настроена работа установщика модулей. Возможности значительно возросли. Например можно создавать динамические страницы в админке, как и в плагинах, только тут это реализовано более изящно, как мне кажется.
5. Фикс постраничной навигации в новостях при просмотре категории.
6. Фикс статистики(теперь роботы не учитываются как посетители).
7. Фикс дат(Если оригинальное время нулевое, показывается не -0001 а 1970 год). Вообще нулевое время не должно встречаться, но это больше для перестраховки.
8. Удален неиспользующийся файл.
9. Фикс бб-кода php.
10. Еще много разных мелких фиксов.
11. Фикс sitemap генератора. Поправлены линки.
12. Небольшой фикс стилей в админке.
13. Фикс глобальной функции getOrderLink.
14. Фикс функции get_url.
15. Фикс прозрачности при создании превьюшек изображений.
16. Фикс корневого .htaccess.
17. Фикс небольшого бага на форуме при вычислении кто смотрит форум.
18. Удалены неиспользуемые файлы библитотеки codemirror.
19. Фикс плагина Последнии коментарии. Тяжелый запрос теперь кэшируется.
20. Фикс обрезки сообщения при добавлении и бб кодов в чате.
21. Настройки "Выводить на главной" в общих настройках. Теперь все галочки можно убирать/ставить.
22. Фикс восстановления пароля.
23. Фикс перевода фразы в профиле пользователя.
24. Фиксы PDO и моделей.
26. Фикс удаления категорий в админке(последнюю категорию теперь удалить нельзя).
27. Фикс запрещающий доступ к функциям beforeRender, afterRender и getValidateRules как к вьюхам.
28. Фикс отображения закрытых категорий во всех модулях и рефакторинг, отвечающего за это, кода.
29. Фикс просмотра материалов пользователя в модулях foto, stat, loads и news.
30. Фикс статистики. Теперь собирается более правдоподобная статитика за счет фильтрации большего количества роботов.
31. Фикс плагина wysibb.
32. Фикс библиотеки Zip.
33. Фикс установщика плагинов с сервера Атом.
34. Небольшие фиксы стилей в админке.
35. Фикс даты в чате.
36. Фикс переводов.
37. Фикс доп.полей.
38. Фикс аттачей при просмотре материала и на главной странице.
39. Всякие архитектурные фиксы. Постарался убрать диблирующий функционал и сделать классы менее зависимыми друг от друга.
40. Фикс редактора страниц в админке.



Новое
1. Чат переделан на аякс(давно пора было, но вот добрался наконец).
2. В админку добавлены сортировки списков материалов и списков комментариев.
3. Значительно улучшен драйвер PDO и система ORM в целом. Значительно сокращается кол-во запросов. При биндинге моделей, система сама генерирует один сложный запрос, вместо отдельных как было раньше. У нас и так меньше запросов чем где бы то ни было, а теперь мы можем бить все рекорды)).
4. Оптимизированы некоторые запросы.
5. Переименованы таблицы module_sections в module_categories. Модели и сущности тоже заменены.
	RENAME TABLE `news_sections` TO `news_categories`;
	RENAME TABLE `foto_sections` TO `foto_categories`;
	RENAME TABLE `loads_sections` TO `loads_categories`;
	RENAME TABLE `stat_sections` TO `stat_categories`;
6. Переделана функция getOrderParam для поддержки импорта настроек сортировки из инсталируемых модулей.
7. getOrderParam перенесена в модель и поддерживает сортировку по вложенным сущностям, например comments.title.
8. Глобальная функция getOrderParam при этом удалена за ненадобностью.
9. Улучшен валидатор.
10. Улучшена работа с языками. Поддержка контекста.
11. Добавлена поддержка кастомных переводов для модулей.
12. Добавлена возможность задавать обтекание текстом для аттачей. Например: {ATTACH99999|200|right}.
13. Небольшая доработка скрипта для создания превьюх. Теперь поддерживается вложенность в каталоге с файлами модуля.
14. Добавлена возможность просмотра/удаления лога ошибок PHP через админку.
15. Улучшен дизайн админки. Добавлены всякие мелкие красивости и фиксы.
16. Добавлена автоотчистка лога ошибок PHP при размере 10МБ.
17. Добавлена поддерка синтаксиса {% set entities[] = 'test' %}.
18. Добавлен фильтр substr(int[, int]).
19. добавлена поддержка отрицательных чисел(Например {{ 'string'|substr(0, -4) }}).
20. Переделана работа ЧПУ, добавленна поддержка старых УРЛ(например после изменения заголовка материала, меняется его УРЛ, раньше бы старые ссылки перестали работать, теперь будет происходить редирект(301)).
В том числе появилась поддержка русскоязычных ЧПУ(/news/Бесплатная_Сисстема_Управления_Контентом.html).
	ALTER TABLE news ADD clean_url_title VARCHAR(255) DEFAULT '' NOT NULL;
	ALTER TABLE stat ADD clean_url_title VARCHAR(255) DEFAULT '' NOT NULL;
	ALTER TABLE loads ADD clean_url_title VARCHAR(255) DEFAULT '' NOT NULL;
	ALTER TABLE themes ADD clean_url_title VARCHAR(255) DEFAULT '' NOT NULL;
21. Добавлен фильтр append.
22. Добавлена возможность настройки мета-тегов title, description и keywords, испульзуя набор параметров(entity_title, category_title, module, page). Есть поддерка условного оператора IF.
23. Добавлены ЧПУ для форума. Теперь ссылка на просмотр темы будет выглядеть так же как ссылка на новость, например(при включенной поддержке ЧПУ).
24. Добавлена защита от ошибок синтаксиса в мета тегах. Если парсер не может разобрать синтаксис, просто вырезаются все управляющие конструкции и тег показывается без них. В противном случае это приводило бы к падению скрипта.
25. Добавлен тип поля texarea в на страницах настроек в админке. Теперь такие настройки как title, description и некоторые другие имеют этот тип поля.
26. Добавлены индексы в таблицы БД. Значительный прирост скорости при средних и больших размерах базы.
	ALTER TABLE `forums` ADD INDEX (`in_cat`);
	ALTER TABLE `loads` ADD INDEX (`category_id`, `author_id`);
	ALTER TABLE `foto` ADD INDEX (`category_id`, `author_id`);
	ALTER TABLE `news` ADD INDEX (`category_id`, `author_id`);
	ALTER TABLE `stat` ADD INDEX (`category_id`, `author_id`);
	ALTER TABLE `comments` ADD INDEX (`entity_id`, `user_id`);
	ALTER TABLE `messages` ADD INDEX (`to_user`, `from_user`);
	ALTER TABLE `posts` ADD INDEX (`id_theme`);
	ALTER TABLE `themes` ADD INDEX (`id_forum`);
	ALTER TABLE `users_votes` ADD INDEX (`from_user`, `to_user`);
	ALTER TABLE `loads_add_content` ADD INDEX (`field_id`, `entity_id`);
	ALTER TABLE `news_add_content` ADD INDEX (`field_id`, `entity_id`);
	ALTER TABLE `stat_add_content` ADD INDEX (`field_id`, `entity_id`);
	ALTER TABLE `users_add_content` ADD INDEX (`field_id`, `entity_id`);
	ALTER TABLE `users_warnings` ADD INDEX (`user_id`, `admin_id`);
	ALTER TABLE `loads_attaches` ADD INDEX (`user_id`);
	ALTER TABLE `news_attaches` ADD INDEX (`user_id`);
	ALTER TABLE `stat_attaches` ADD INDEX (`user_id`);
	ALTER TABLE `forum_attaches` ADD INDEX (`post_id`, `user_id`);
27. Добавлено автоопределение подкаталога, в который происходит установка(если она, конечно, происходит в подкаталоге).
28. Добавлен фильтр num_format аналог number_format в PHP.
29. Добавлена возможность делать подписи к изображениям-аттачам и в бб-коде img.
30. Апгрейд валидатора.
31. Добавлена возможность строить цепочки из сеттеров ORM (Например $entity->setAttr1(1)->setAttr2(2)->save()).
32. Немного переделана работа системного логера. Вместо serialize теперь используется JSON.
33. Шаблонный фильтр Lang теперь принимает один параметр(контекст). Например 'test'|lang('mycontext').
34. Улучшена лоика работы с бб-кодами. Появилась возможность их обработки прямо из шаблона, при помощи фильтра bbcode.







**************************
v2.6 RC1, RC2            *
**************************
Фиксы
1. Исправлены стили бб-кодов.

2. Фикс перехода на профиль пользователя со страницы рейтинга(раньше переходило на список пользователей, теперь именно на пользователя).

3. Фикс открытия тем на форуме.

4. Фикс страницы загрузки плагинов в админке.

5. Фикс отображения бб-кодов code*.

6. Фикс генератора тегов к материалу.

7. Фикс инклуда в шаблонизаторе.

8. фикс валидатора. (Бага при изменении ника через админку)

9. Фикс email шаблона.

10. Фикс чата(некорректная валидация сообщения).

11. Фикс редактирования новостей и статей(слетающая галочка available).

12. Фикс настроек комментариев  в статьях и загрузках.

13. Фикс ALC.

14. Фикс комментариев(в сущность комментария не добавлялся author). Такой же фикс в users.

15. Фикс формирования ссылок через [~ ID ~].

16. Фикс отображения фоток юзера в каталоге фото.

17. Исправлено несколько багов в каталоге фото. В основном при просмотре материалов юзера.

18. Фикс бага который мог приводить к ошибке на серверах с версией PHP < 5.4.

19. Фикс бб-кода url. Добавлена поддержка ковычек вокруг URL.

20. Фикс - разрешены спецсимволы в пароле.

21. Фикс на форуме(при просмотре тем не увеличивалось кол-во просмотров).

22. Так же в процессе перевода были пофикшены некоторые мелкие баги.

23. Фикс статистики. Могла не сохраняться при определенных обстоятельствах.

24. Фикс формирования ссылок на аттачи.

25. Фикс переключателя языков.

26. Фикс перенаправления по внешним ссылкам.

27. Небольшой фикс плагинов.

28. Фикс премодерации в каталоге файлов.

29. Фикс бб-кода цитата.

30. Фикс URL генератора.

31. Фикс сниппетов.

32. Небольшой фикс в новых аттачах. Заменено захардкоженное название шаблона.

33. Фикс создания тегов при доавлении новости.

34. Фикс бб-кода hN.

35. Небольшой фикс логики вывода категорий в метке categories.

36. Небольшой фикс бутстрап-файла(убрано лишнее).

37. Фикс метки entity.attaches. Новые аттачи теперь попадают в эту метку.

38. Фикс метки add_link в /forum/view_forum/.

39. Фикс рейтинга юзеров.

40. Фикс дебагера.

41. Фикс склейки постов на форуме.

42. Фикс шаблона(форма логина).

43. Небольшой фикс массовой рассылки.

44. Фикс плагина WysiBB(ссылки вида [url="blabla"]text[ /url] теперь работают, как и [url=blabla]text[ /url]).

45. Фикс генератора sitemap.

46. Фикс глобальной метки categories.

47. Фикс просмотра статистики и загрузки плагинов в админке.

48. Исправлены некоторые ссылки в шаблоне ведущие на старый сайт.


Добавления
1. Добавлена возможность делать кастомные переводы для каждого шаблона. (!при апдейте заменить файлы переводов)

2. Добавлены бб коды Заголовок(h1,h2,h3,h4,h5,h6).

3. Плагин WysiBB оптимизирован под работу с FireFox, а так же теперь он умеет пользоваться бб-кодом Заголовок.

4. Добавлена капча-вопрос.

5. Переделана логика работы с капчей. Теперь ее можно менять мгновенно. 

6. Добавлен подсчет времени при массовой расылке писем.

7. Добавлен метод log в дебагер.

8. Добавлена конкатенация и группировка в шаблонизатор.

9. Добавлена английская локализация(спасибо Sproot) и переключалка языков.

10. Настройка языков(основного и возможных).

11. Добавлена метка meta_title, дублирующая title.

12. Добавлена поддержка бинарного оператора in в условиях if(шаблонизатор).

13. Полностью переведены общие настройки и настройки SEO в админке.

14. Поддержка работы с числовыми ключами массивов в шаблонизаторе.

15. Добавлены фильтры bbcode, urlencode, urldecode, lang.

16. Добавлены глобальные метки action(текущий экшен) и params(параметры - module, action, ID и т.д.).

17. Теперь все вызовы шаблона проходят через хук select_template. Обращения к шаблону в админке хук не затрагивают во избежание непредвиженного поведения.

18. Добавлена поддежка граватаров.

19. Поддержка конструкций вида entities[i].title в шаблонизаторе.

20. Новая система аттачей. http://atomx.net/forum/view_theme/1256/

21. Сжатие правил ACL при сохранении, что уменьшает размер файла примерно в 2 раза.

22. Изменен алгоритм создания индекса для поиска, чтобы система не умерала на больших базах данных.

23. В JS библиотеку добавлены объекты для работы с WebStorage(AtomX.WStore.set(key, value) и AtomX.WStore.get(key)).

24. Переведены на rus и eng все страницы настроек в админке(спасибо Sproot за неоценимую помощь в этом деле). 

25. Добавлено исключение в шаблонизатор. Вместо непонятной ошибки теперь будет осмысленный текст.

26. Обновлен список авторов.

27. Плюс еще переводы(на данный момент переведено ~99% админки).

28. Превьюшки в новых аттачах теперь генерируются системой на лету в уменьшенном виде для экономии трафика.

29. Прихорашивание аттачей.

30. Добавлена возможность множественной конкатенации и возможность передачи функции как аргумент другой функции. Например {{ func(func() ~ 'test') }}.

31. Добавлен кэш скомпилированных шаблонов. Прирост в скорости парсинга шаблонов достигает 1000%(в среднем примерно 700%). Отключается в конфиге - templates_cache.

32. В админке на главную страницу вынесена инфа о материалах ожидающих премодерацию.

33. Полный перевод шаблона. За каторжный труд благодарим Sproot-а.

34. Возможность использовать вызов функции как массив для перебора {% for var in func() %}.

35. Отчистка кэша через админку теперь чистит весь кэш, включая кэш шаблонов и сниппетов.

36. Добавлена глобальная метка version.

37. Добавлена настройка Кэш шаблонов в админке(общие настройки).

38. Админка адаптирована под меньшие разрешения.

39. При удалении пункта меню спрашивается подтверждене.

40. Обновлен readme.

41. Обновлен инсталятор.

42. Добавлено правило групп delete_attaches - пользователи могут удалять аттачи.

43. Подшаманены аттачи.

44. Добавлены комментарии в язык шаблонизатора {# comment #}. 

45. Добавлена поддержка такого синтаксиса - {{ var + (1 * 3) }} и тому подобного.

46. Добавлены фильтры Count, Length и Show(аалог var_dump).

47. Добавлена метка forum.moderators содержащая массив объектов(Users). Или проще говоря - список пользователе, модераторов форума.

48. Добавление фильтров Match (Пример: var|match('#\d+#')), format, join, batch, capitalize, keys, default, pop, shift, reverse, replace, slice, split, trim, json_encode. Как использовать эти фильтры и другие скоро в документации.

49. Поддержка параметров в фильтрах(Например var|match(param)).

50. Улучшен дебаг шаблонизатора. Теперь он как PHP возвращает имя файла и строку при возникновении ошибки. Отладка шаблонов станет намного приятнее.

51. Добавлены бинарные операторы "//"(деление без остатка), "**"(степень), ">" и "<". Раньше, из подобных, были только "<=" и ">=".

52. Теперь комментарии шаблонизатора {# comment #} подсвечиваются в бб-коде html как комментарии(сереньким).

53. Добавлена поддержка JSON синтаксиса в шаблонизатор. Массивы теперь можно объявлять как JSON {"key1": var1, "key2": "string1"}.

54. В конструкции for теперь можно указывать ключ(Пример: {% for key, value in {"key1": var1, "key2": "string1"} %}).

55. Добавлена настройка "Автопереход на летнее время" в Users.

56. В админке добавлены новые типы информационных сообщений.




**************************
v2.5 RC1                 *
**************************
1. Исправлено отображение новых тем.

2. Новые возможности шаблонизатора. Множественные параметры в условиях и функциях, инклуд.

3. Возможность передавать в сниппеты значения переменных.

4. Фикс автовыставления прав в инсталяторе.

5. Поддержка пользовательских функций в валидаторе.

6. fetch функции в шаблоне.

7. Оператор присваивания {% set = '' %} в шаблоне.

8. Переработка раздела пользователи в шаблоне.

9. Новые возможности работы с датами. Отображение с учетом пояса, отображение ака-ВК и т.д.

10. Фикс форм по всему шаблону а так же правка стилей.

11. Заменил ajax-loader

12. Добавлено пакетное удаление постов.

13. Перенос постов и разделение тем.

14. Добавлен шаблонный оператор OR.

15. Добавлено звуковое оповещение о ЛС.

16. В шаблонизатор добавлен фильтр escape - аналог htmlspecialchars.

17. Исправлены ссылки в шаблоне.

18. Добавлены шаблоны писем(sys/settings/email_templates/). Пока добавляются руками и меняются руками.

19. Добавлена защита от неправильно введенного URL (например множественные слеши или отсутствие слеша в конце).

20. Возможность выбора шаблона при массовой разсылке писем.

21. Добавлен хук view_category.

22. Небольшой апдейт плагинов. Теперь метод common в плагине принимает название хука вторым параметром.

23. "Страницы" из пагинатора перенесено в шаблон.

24. Глобальная метка categories со списком категорий теперь обрамлена "<ul>".

25. Переделана функция get_url. Теперь она тоже поправляет УРЛ если в нем двойные слеши.

26. В письма добавлен заголовок Content-Transfer-Encoding.

27. Переименован класс FpsUrl в AtmUrl.

28. Добавлена защита от некорректных настроек кол-ва материалов на страницу. Если этот параметр не число или меньше единицы, будет выводится 10 записей.

29. Добавлена настройки пользователей(пока только настройка уведомлений. Юзер может включить/выключить уведомления по почте)
	ALTER TABLE `users` ADD `email_notification` enum('0','1') NOT NULL DEFAULT '1';

30. Фикс постраничной навигации. Автоопределение что нужно поставить в качестве разделителя перед page=N

31. Слейка тем.

32. Фикс поиска по тегам.

33. Фикс отображения категорий в соответствии с правами. Во всех модулях и екшенах.

34. Новый логотип в админке.

35. Новая картинка счетчика.

36. Так же фикс всех вот этих багов http://atomx.net/forum/view_post/16582

37. Возможность настроить шаблон отображения дат на сайте. atm-format - означает формат ака-контакт(по умолчанию).

38. В инсталл добавлено мыло админа.

39. Фикс отображения списка материалов и премодерации в админке.

40. Фикс бага в конфиге.

41. Добавлен Dependenci enjection в шаблонизатор. Это может быть интересно разрабам. В двух словах - теперь шаблонизатор можно юзать в отрыве от АтомХ с самыми минимальными телодвижениями.

42. Фикс арифметических операций  в шаблонизаторе. В том числе, в операторе присваивания - set.

43. Обработка ошибок в шаблонизаторе(Добавлены исключения(Exceptions)).

44. Новый дебагер. Совсем другой и гораздо круче).

45. Фикс роутов.

46. Фикс сниппетов.

47. Фикс аттачей при создании темы.

48. Фикс добавления ЛС.

49. Фикс редиректа после удаления ЛС. Теперь при удалении ЛС из диалога, происходит возврат на этот же диалог.

50. Добавлены метки category_id и comments в список материалов на главной странице(по умолчанию это default/list.html).

51. Фикс ошибки приводящей к падению сайта.

52. В админку добавлено управление комментариями и их премодерация. 
	ALTER TABLE `comments` ADD `premoder` enum('nochecked','rejected','confirmed') NOT NULL DEFAULT 'nochecked';

53. Улучшено отображение списка материалов и премодерация материалов в админке(еще раз).

54. Изменена приветственная новость после инсталла.

55. Фикс css3 лоадера на странице редиректа.

56. Фикс плагина "Голосования". Убран голос по умолчанию.

57. Фикс валидатора. Обработка форм приведена к более единому виду.

58. Фикс вывода ошибок при восстановлении пароля, добавлении и редактировании комментов, добавлении и редактировании тем, добавлении и редактировании постов.

59. Фикс восстановления пароля. Для восстановления теперь надо либо логин, либо мыло, а не то и другое как ранее.

60. Фикс формы редактирования комментов. Починен виз. редактор.

61. Фикс переноса тем.

62. Фикс XSS.

63. Фикс мейлера. Исправлена бага с письмами от неизвестного.

64. Фикс CSS3 лоадера при логине.

65. Апдейт валидатора.

66. Небольшой фикс стилей.

67. Фикс шаблонизатора(инклуда).

68. Фикс стилей в админке.

69. Добавлен хук view_category в модуль stat.

70. Фикс сниппетов.

71. Фикс бб кода size.

72. Фикс отправки ЛС.



**************************
RC 6                     *
**************************

1. Фикс добавления и редактирования статей, загрузок и фото.

2. Фикс добавления категорий фотокаталога в админке.

3. Добавлены параметры в сниппетах.

4. Пофикшено удаление личных сообщений.

5. Пофикшен вывод сообщений об ошибке при AJAX логине.

6. Фикс отображения подписей на форуме.

7. Фикс комментариев.

8. Новый конфиг (module.param1.param2...).

9. Новая система прав доступа.

10. Исправлен баг с рейтигом на форуме.

11. Исправлен баг с настройками RSS. 

12. Улучшена работа с категориями. (Добавлено поле path, по аналогии со страницами. Поле не видимо для пользователей, но позволяет с легкостью выбирать все дочерние или родительские разделы категории по ее ID).

13. Пофикшен баг с неработающей главной страницей.

14. По умолчанию открывается профиль пользователя, а не форма редактирования.

15. Добавлен класс FpsUrl.

16. Все даты теперь отображаются с учетом временных зон пользователей.

17. Устранено несколько критических уязвимостей, которые приводили к выходу из строя отдельных страниц.




